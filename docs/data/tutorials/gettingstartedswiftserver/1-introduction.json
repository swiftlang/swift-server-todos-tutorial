{"sections":[{"kind":"hero","estimatedTimeInMinutes":5,"chapter":"Build a basic Vapor app","title":"Introduction","content":[{"type":"paragraph","inlineContent":[{"type":"text","text":"The tutorial example contains a Package.swift file that defines the dependencies and targets for the app, as well as a Sources directory with starter files. The finished tutorial is also provided in the Completed folder."}]},{"type":"paragraph","inlineContent":[{"type":"text","text":"The starter code contains all the files you’ll need to get started."},{"text":" ","type":"text"},{"text":"Follow the steps below for a quick introduction.","type":"text"}]}]},{"kind":"tasks","tasks":[{"anchor":"Explore-the-parts-of-a-basic-app","contentSection":[{"mediaPosition":"trailing","content":[{"type":"paragraph","inlineContent":[{"text":"Carefully review the files the tutorial Starter files, noting the purpose of each. Then build and run the starter code to prove it’s operational.  ","type":"text"},{"inlineContent":[{"text":"Note:","type":"text"}],"type":"strong"},{"text":" Steps one through five will switch between each of the five files. Step six switches to a terminal.","type":"text"}]}],"kind":"contentAndMedia"}],"title":"Explore the parts of a basic app","stepsSection":[{"code":"1-package.0.swift","runtimePreview":null,"content":[{"type":"paragraph","inlineContent":[{"inlineContent":[{"type":"text","text":"Review"}],"type":"strong"},{"type":"text","text":" "},{"code":"Package.swift","type":"codeVoice"},{"type":"text","text":", which contains the dependencies used in this tutorial."}]}],"type":"step","media":null,"caption":[{"type":"paragraph","inlineContent":[{"type":"text","text":"The starter depends on the web framework Vapor, a package to manage the lifecycle of a service, "},{"type":"reference","identifier":"(https:\/\/swiftpackageindex.com\/swift-server\/swift-service-lifecycle\/documentation\/servicelifecycle)","isActive":true},{"type":"text","text":", and a package to add basic logs, "},{"type":"reference","identifier":"https:\/\/swiftpackageindex.com\/apple\/swift-log\/documentation\/logging","isActive":true},{"type":"text","text":"."}]}]},{"code":"1-entrypoint.0.swift","runtimePreview":null,"content":[{"inlineContent":[{"type":"strong","inlineContent":[{"text":"Review","type":"text"}]},{"type":"text","text":" "},{"type":"codeVoice","code":"Entrypoint.swift"}],"type":"paragraph"}],"type":"step","media":null,"caption":[{"inlineContent":[{"type":"codeVoice","code":"Entrypoint.swift"},{"type":"text","text":" reads environment variables, configures the logging service, and sets up the Vapor application."},{"type":"text","text":" "},{"type":"text","text":"With the Vapor app created, you create a service to help manage the lifecycle of the app."}],"type":"paragraph"}]},{"code":"1-serverservice.0.swift","runtimePreview":null,"content":[{"type":"paragraph","inlineContent":[{"inlineContent":[{"text":"Review","type":"text"}],"type":"strong"},{"text":" ","type":"text"},{"type":"codeVoice","code":"ServerService.swift"}]}],"type":"step","media":null,"caption":[{"type":"paragraph","inlineContent":[{"code":"ServerService.swift","type":"codeVoice"},{"type":"text","text":" configures the server."},{"type":"text","text":" "},{"type":"text","text":"The configuration includes logging and two initial routes."},{"type":"text","text":" "},{"type":"text","text":"The struct "},{"code":"ServerService","type":"codeVoice"},{"type":"text","text":" conforms to the protocol "},{"code":"Service","type":"codeVoice"},{"type":"text","text":" from Swift Service Lifecycle, which provides the async context in which to run the app."}]}]},{"code":"1-telemetry.0.swift","runtimePreview":null,"content":[{"type":"paragraph","inlineContent":[{"inlineContent":[{"type":"text","text":"Review"}],"type":"strong"},{"type":"text","text":" "},{"code":"Telemetry.swift","type":"codeVoice"},{"type":"text","text":"."}]}],"type":"step","media":null,"caption":[{"type":"paragraph","inlineContent":[{"type":"codeVoice","code":"Telemetry.swift"},{"type":"text","text":" provides a method to bootstrap logging from the environment and the logging middleware that is added to Vapor in the "},{"type":"codeVoice","code":"configureServer"},{"type":"text","text":" method in "},{"type":"codeVoice","code":"ServerService.swift"},{"type":"text","text":"."}]}]},{"code":"1-database.0.swift","runtimePreview":null,"content":[{"type":"paragraph","inlineContent":[{"type":"strong","inlineContent":[{"type":"text","text":"Review"}]},{"type":"text","text":" "},{"type":"codeVoice","code":"Database.swift"},{"type":"text","text":"."}]}],"type":"step","media":null,"caption":[{"type":"paragraph","inlineContent":[{"type":"codeVoice","code":"Database.swift"},{"type":"text","text":" provides a struct with the model for the TODO that the app returns from the initial route in "},{"type":"codeVoice","code":"ServerService.swift"},{"type":"text","text":"."}]}]},{"code":"1-bash.0.txt","runtimePreview":null,"content":[{"type":"paragraph","inlineContent":[{"inlineContent":[{"type":"text","text":"Run"}],"type":"strong"},{"text":" ","type":"text"},{"code":"swift run SwiftServerTodos","type":"codeVoice"}]}],"type":"step","media":null,"caption":[{"type":"paragraph","inlineContent":[{"type":"text","text":"Open a terminal to build and run the starter using the "},{"code":"swift run","type":"codeVoice"},{"type":"text","text":" command."}]}]},{"code":"1-bash.1.txt","runtimePreview":null,"content":[{"type":"paragraph","inlineContent":[{"type":"strong","inlineContent":[{"text":"Review","type":"text"}]},{"type":"text","text":" the output from the run command in your terminal."}]}],"type":"step","media":null,"caption":[{"type":"paragraph","inlineContent":[{"text":"After the app starts, it runs at http:\/\/localhost:8080.","type":"text"}]}]},{"code":"1-curl.0.txt","runtimePreview":null,"content":[{"inlineContent":[{"inlineContent":[{"type":"text","text":"Run"}],"type":"strong"},{"type":"text","text":" "},{"type":"codeVoice","code":"% curl -i -X GET http:\/\/localhost:8080\/todos"}],"type":"paragraph"}],"type":"step","media":null,"caption":[{"inlineContent":[{"text":"Open a second terminal and run a ","type":"text"},{"code":"curl","type":"codeVoice"},{"text":" command to exercise the app.","type":"text"}],"type":"paragraph"}]},{"code":"1-curl.1.txt","runtimePreview":null,"content":[{"inlineContent":[{"type":"strong","inlineContent":[{"type":"text","text":"Review"}]},{"type":"text","text":" the output from the app in the second terminal."}],"type":"paragraph"}],"type":"step","media":null,"caption":[{"inlineContent":[{"text":"This is the result of the initial ","type":"text"},{"type":"codeVoice","code":"\/todos"},{"text":" route in the app.","type":"text"}],"type":"paragraph"}]},{"code":"1-bash.2.txt","runtimePreview":null,"content":[{"type":"paragraph","inlineContent":[{"type":"strong","inlineContent":[{"type":"text","text":"Review"}]},{"type":"text","text":" the output in the first terminal."}]}],"type":"step","media":null,"caption":[{"type":"paragraph","inlineContent":[{"type":"text","text":"As you invoke the curl command, you will also see the request logged to the console where you started the app."}]}]}]}]},{"kind":"callToAction","featuredEyebrow":"Tutorial","action":{"identifier":"doc:\/\/com.apple.ASE.getting-started\/tutorials\/GettingStartedSwiftServer\/2-openapi","isActive":true,"overridingTitle":"Get started","overridingTitleInlineContent":[{"type":"text","text":"Get started"}],"type":"reference"},"abstract":[{"text":"Learn how to add an OpenAPI document, generate server stubs using the OpenAPI plugin, and integrate the generated code into the app.","type":"text"}],"title":"Specify routes using OpenAPI"}],"identifier":{"interfaceLanguage":"swift","url":"doc:\/\/com.apple.ASE.getting-started\/tutorials\/GettingStartedSwiftServer\/1-introduction"},"schemaVersion":{"patch":0,"major":0,"minor":3},"kind":"project","hierarchy":{"reference":"doc:\/\/com.apple.ASE.getting-started\/tutorials\/getting-started-swift-server","modules":[{"projects":[{"reference":"doc:\/\/com.apple.ASE.getting-started\/tutorials\/GettingStartedSwiftServer\/0-setup","sections":[{"reference":"doc:\/\/com.apple.ASE.getting-started\/tutorials\/GettingStartedSwiftServer\/0-setup#Verify-installed-tools","kind":"task"},{"reference":"doc:\/\/com.apple.ASE.getting-started\/tutorials\/GettingStartedSwiftServer\/0-setup#Clone-and-build-the-tutorial-repository","kind":"task"}]}],"reference":"doc:\/\/com.apple.ASE.getting-started\/tutorials\/getting-started-swift-server\/Before-you-begin"},{"projects":[{"reference":"doc:\/\/com.apple.ASE.getting-started\/tutorials\/GettingStartedSwiftServer\/1-introduction","sections":[{"kind":"task","reference":"doc:\/\/com.apple.ASE.getting-started\/tutorials\/GettingStartedSwiftServer\/1-introduction#Explore-the-parts-of-a-basic-app"}]},{"reference":"doc:\/\/com.apple.ASE.getting-started\/tutorials\/GettingStartedSwiftServer\/2-openapi","sections":[{"reference":"doc:\/\/com.apple.ASE.getting-started\/tutorials\/GettingStartedSwiftServer\/2-openapi#Add-an-OpenAPI-document","kind":"task"},{"reference":"doc:\/\/com.apple.ASE.getting-started\/tutorials\/GettingStartedSwiftServer\/2-openapi#OpenAPI-generator","kind":"task"},{"reference":"doc:\/\/com.apple.ASE.getting-started\/tutorials\/GettingStartedSwiftServer\/2-openapi#Configure-Vapor-to-use-the-API-handler","kind":"task"}]},{"reference":"doc:\/\/com.apple.ASE.getting-started\/tutorials\/GettingStartedSwiftServer\/3-database","sections":[{"reference":"doc:\/\/com.apple.ASE.getting-started\/tutorials\/GettingStartedSwiftServer\/3-database#Set-up-the-infrastructure","kind":"task"},{"reference":"doc:\/\/com.apple.ASE.getting-started\/tutorials\/GettingStartedSwiftServer\/3-database#Configure-the-database-tables-and-connection","kind":"task"},{"reference":"doc:\/\/com.apple.ASE.getting-started\/tutorials\/GettingStartedSwiftServer\/3-database#Add-the-database-layer-to-the-routes","kind":"task"},{"reference":"doc:\/\/com.apple.ASE.getting-started\/tutorials\/GettingStartedSwiftServer\/3-database#Run-and-test-the-code","kind":"task"}]}],"reference":"doc:\/\/com.apple.ASE.getting-started\/tutorials\/getting-started-swift-server\/Build-a-basic-Vapor-app"},{"projects":[{"sections":[{"kind":"heading","reference":"doc:\/\/com.apple.ASE.getting-started\/tutorials\/GettingStartedSwiftServer\/4-wrapup#Summary"},{"kind":"heading","reference":"doc:\/\/com.apple.ASE.getting-started\/tutorials\/GettingStartedSwiftServer\/4-wrapup#Review"},{"kind":"heading","reference":"doc:\/\/com.apple.ASE.getting-started\/tutorials\/GettingStartedSwiftServer\/4-wrapup#Where-do-I-go-from-here"}],"reference":"doc:\/\/com.apple.ASE.getting-started\/tutorials\/GettingStartedSwiftServer\/4-wrapup"}],"reference":"doc:\/\/com.apple.ASE.getting-started\/tutorials\/getting-started-swift-server\/Review-and-next-steps"}],"paths":[["doc:\/\/com.apple.ASE.getting-started\/tutorials\/getting-started-swift-server","doc:\/\/com.apple.ASE.getting-started\/tutorials\/getting-started-swift-server\/$volume","doc:\/\/com.apple.ASE.getting-started\/tutorials\/getting-started-swift-server\/Build-a-basic-Vapor-app"]]},"metadata":{"role":"project","categoryPathComponent":"getting-started-swift-server","category":"Get Started with Swift Server","title":"Introduction"},"variants":[{"traits":[{"interfaceLanguage":"swift"}],"paths":["\/tutorials\/gettingstartedswiftserver\/1-introduction"]}],"references":{"doc://com.apple.ASE.getting-started/tutorials/getting-started-swift-server/Before-you-begin":{"title":"Before you begin","kind":"article","abstract":[],"role":"article","type":"topic","identifier":"doc:\/\/com.apple.ASE.getting-started\/tutorials\/getting-started-swift-server\/Before-you-begin","url":"\/tutorials\/getting-started-swift-server\/before-you-begin"},"doc://com.apple.ASE.getting-started/tutorials/GettingStartedSwiftServer/0-setup#Clone-and-build-the-tutorial-repository":{"type":"section","url":"\/tutorials\/gettingstartedswiftserver\/0-setup#Clone-and-build-the-tutorial-repository","abstract":[{"text":"Ensure you have the right tools and example code before learning how to write your Swift server application.","type":"text"}],"role":"pseudoSymbol","kind":"section","identifier":"doc:\/\/com.apple.ASE.getting-started\/tutorials\/GettingStartedSwiftServer\/0-setup#Clone-and-build-the-tutorial-repository","title":"Clone and build the tutorial repository"},"doc://com.apple.ASE.getting-started/tutorials/GettingStartedSwiftServer/0-setup#Verify-installed-tools":{"url":"\/tutorials\/gettingstartedswiftserver\/0-setup#Verify-installed-tools","type":"section","kind":"section","identifier":"doc:\/\/com.apple.ASE.getting-started\/tutorials\/GettingStartedSwiftServer\/0-setup#Verify-installed-tools","abstract":[{"type":"text","text":"Ensure you have the right tools and example code before learning how to write your Swift server application."}],"role":"pseudoSymbol","title":"Verify installed tools"},"1-bash.1.txt":{"syntax":"","fileName":"Terminal","identifier":"1-bash.1.txt","highlights":[{"line":2},{"line":3},{"line":4},{"line":5},{"line":6},{"line":7}],"fileType":"","content":["% swift run SwiftServerTodos","","[1\/1] Planning build","Building for debugging...","[1\/1] Write swift-version--7D0960044F38567D.txt","Build of product 'SwiftServerTodos' complete! (2.32s)","[ NOTICE ] Server started on http:\/\/0.0.0.0:8080"],"type":"file"},"doc://com.apple.ASE.getting-started/tutorials/GettingStartedSwiftServer/4-wrapup#Summary":{"abstract":[{"type":"text","text":"Review what you built and where to find resources to build something you can ship to production."}],"identifier":"doc:\/\/com.apple.ASE.getting-started\/tutorials\/GettingStartedSwiftServer\/4-wrapup#Summary","url":"\/tutorials\/gettingstartedswiftserver\/4-wrapup#Summary","role":"pseudoSymbol","type":"section","title":"Summary","kind":"section"},"doc://com.apple.ASE.getting-started/tutorials/GettingStartedSwiftServer/2-openapi":{"abstract":[{"type":"text","text":"Learn how to add an OpenAPI document, generate server stubs using the OpenAPI plugin, and integrate the generated code into the app."}],"identifier":"doc:\/\/com.apple.ASE.getting-started\/tutorials\/GettingStartedSwiftServer\/2-openapi","url":"\/tutorials\/gettingstartedswiftserver\/2-openapi","role":"project","estimatedTime":"10min","type":"topic","title":"Specify routes using OpenAPI","kind":"project"},"1-curl.1.txt":{"content":["% curl http:\/\/localhost:8080\/todos","HTTP\/1.1 200 OK","content-type: application\/json; charset=utf-8","content-length: 73","connection: keep-alive","date: Fri, 16 May 2025 20:28:44 GMT","","[{\"id\":\"318C8306-DE9E-4ABA-9EA9-6B4F4B4607D8\",\"contents\":\"example todo\"}]%"],"fileType":"","identifier":"1-curl.1.txt","type":"file","highlights":[{"line":1},{"line":2},{"line":3},{"line":4},{"line":5},{"line":6},{"line":8}],"fileName":"Terminal","syntax":""},"doc://com.apple.ASE.getting-started/tutorials/GettingStartedSwiftServer/3-database#Set-up-the-infrastructure":{"url":"\/tutorials\/gettingstartedswiftserver\/3-database#Set-up-the-infrastructure","abstract":[{"text":"Use the Fluent ORM to connect a PostgreSQL database to the tutorial app.","type":"text"}],"type":"section","identifier":"doc:\/\/com.apple.ASE.getting-started\/tutorials\/GettingStartedSwiftServer\/3-database#Set-up-the-infrastructure","kind":"section","role":"pseudoSymbol","title":"Set up the infrastructure"},"doc://com.apple.ASE.getting-started/tutorials/GettingStartedSwiftServer/3-database":{"abstract":[{"text":"Use the Fluent ORM to connect a PostgreSQL database to the tutorial app.","type":"text"}],"estimatedTime":"10min","type":"topic","identifier":"doc:\/\/com.apple.ASE.getting-started\/tutorials\/GettingStartedSwiftServer\/3-database","role":"project","title":"Integrate a database","url":"\/tutorials\/gettingstartedswiftserver\/3-database","kind":"project"},"1-serverservice.0.swift":{"identifier":"1-serverservice.0.swift","fileType":"swift","type":"file","highlights":[],"syntax":"swift","content":["import ServiceLifecycle","import Vapor","","func configureServer(_ app: Application) async throws -> ServerService {","    app.middleware.use(RequestLoggerInjectionMiddleware())","","    \/\/ A health endpoint.","    app.get(\"health\") { _ in","        \"ok\\n\"","    }","","    \/\/ A route to list TODOs.","    app.get(\"todos\") { req in","        [","            Todo(contents: \"example todo\")","        ]","    }","","    return ServerService(app: app)","}","","struct ServerService: Service {","    var app: Application","    func run() async throws {","        try await app.execute()","    }","}"],"fileName":"ServerService.swift"},"https://swiftpackageindex.com/apple/swift-log/documentation/logging":{"title":"Swift Log","titleInlineContent":[{"text":"Swift Log","type":"text"}],"url":"https:\/\/swiftpackageindex.com\/apple\/swift-log\/documentation\/logging","type":"link","identifier":"https:\/\/swiftpackageindex.com\/apple\/swift-log\/documentation\/logging"},"doc://com.apple.ASE.getting-started/tutorials/GettingStartedSwiftServer/2-openapi#Add-an-OpenAPI-document":{"url":"\/tutorials\/gettingstartedswiftserver\/2-openapi#Add-an-OpenAPI-document","title":"Add an OpenAPI document","identifier":"doc:\/\/com.apple.ASE.getting-started\/tutorials\/GettingStartedSwiftServer\/2-openapi#Add-an-OpenAPI-document","kind":"section","type":"section","abstract":[{"type":"text","text":"Learn how to add an OpenAPI document, generate server stubs using the OpenAPI plugin, and integrate the generated code into the app."}],"role":"pseudoSymbol"},"1-bash.0.txt":{"identifier":"1-bash.0.txt","fileType":"","type":"file","highlights":[],"syntax":"","fileName":"Terminal","content":["% swift run SwiftServerTodos"]},"doc://com.apple.ASE.getting-started/tutorials/GettingStartedSwiftServer/4-wrapup":{"url":"\/tutorials\/gettingstartedswiftserver\/4-wrapup","kind":"article","estimatedTime":"5min","title":"Review and where to go next","identifier":"doc:\/\/com.apple.ASE.getting-started\/tutorials\/GettingStartedSwiftServer\/4-wrapup","type":"topic","abstract":[{"type":"text","text":"Review what you built and where to find resources to build something you can ship to production."}],"role":"article"},"doc://com.apple.ASE.getting-started/tutorials/getting-started-swift-server":{"kind":"overview","type":"topic","url":"\/tutorials\/getting-started-swift-server","abstract":[{"text":"Learn about cloud services in Swift by building and extending a Vapor app.","type":"text"}],"title":"Explore Swift on the server by building a Vapor app","role":"overview","identifier":"doc:\/\/com.apple.ASE.getting-started\/tutorials\/getting-started-swift-server"},"1-bash.2.txt":{"content":["% swift run SwiftServerTodos","","[1\/1] Planning build","Building for debugging...","[1\/1] Write swift-version--7D0960044F38567D.txt","Build of product 'SwiftServerTodos' complete! (2.32s)","[ NOTICE ] Server started on http:\/\/0.0.0.0:8080","[ INFO ] GET \/todos [request-id: 69F320D7-163A-40C6-B671-C80ABDE767FB]"],"type":"file","fileType":"","fileName":"Terminal","syntax":"","identifier":"1-bash.2.txt","highlights":[{"line":8}]},"doc://com.apple.ASE.getting-started/tutorials/GettingStartedSwiftServer/1-introduction#Explore-the-parts-of-a-basic-app":{"identifier":"doc:\/\/com.apple.ASE.getting-started\/tutorials\/GettingStartedSwiftServer\/1-introduction#Explore-the-parts-of-a-basic-app","url":"\/tutorials\/gettingstartedswiftserver\/1-introduction#Explore-the-parts-of-a-basic-app","role":"pseudoSymbol","type":"section","abstract":[{"type":"text","text":"The tutorial example contains a Package.swift file that defines the dependencies and targets for the app, as well as a Sources directory with starter files. The finished tutorial is also provided in the Completed folder."}],"kind":"section","title":"Explore the parts of a basic app"},"1-package.0.swift":{"identifier":"1-package.0.swift","fileType":"swift","type":"file","highlights":[],"syntax":"swift","fileName":"Package.swift","content":["\/\/ swift-tools-version: 6.1","","import PackageDescription","","let package = Package(","    name: \"swift-server-todos\",","    platforms: [","        .macOS(.v15)","    ],","    dependencies: [","        \/\/ Server scaffolding","        .package(url: \"https:\/\/github.com\/vapor\/vapor\", from: \"4.0.0\"),","        .package(url: \"https:\/\/github.com\/swift-server\/swift-service-lifecycle\", from: \"2.1.0\"),","        .package(url: \"https:\/\/github.com\/apple\/swift-openapi-generator\", from: \"1.0.0\"),","        .package(url: \"https:\/\/github.com\/apple\/swift-openapi-runtime\", from: \"1.0.0\"),","        .package(url: \"https:\/\/github.com\/swift-server\/swift-openapi-vapor\", from: \"1.0.0\"),","","        \/\/ Telemetry","        .package(url: \"https:\/\/github.com\/apple\/swift-log\", from: \"1.5.2\"),","","        \/\/ Database","        .package(url: \"https:\/\/github.com\/vapor\/fluent.git\", from: \"4.0.0\"),","        .package(url: \"https:\/\/github.com\/vapor\/fluent-postgres-driver.git\", from: \"2.0.0\"),","    ],","    targets: [","        .executableTarget(","            name: \"SwiftServerTodos\",","            dependencies: [","                \/\/ Server scaffolding","                .product(name: \"Vapor\", package: \"vapor\"),","                .product(name: \"ServiceLifecycle\", package: \"swift-service-lifecycle\"),","","                \/\/ Telemetry","                .product(name: \"Logging\", package: \"swift-log\"),","            ]","        )","    ]",")"]},"doc://com.apple.ASE.getting-started/tutorials/GettingStartedSwiftServer/2-openapi#Configure-Vapor-to-use-the-API-handler":{"url":"\/tutorials\/gettingstartedswiftserver\/2-openapi#Configure-Vapor-to-use-the-API-handler","type":"section","kind":"section","identifier":"doc:\/\/com.apple.ASE.getting-started\/tutorials\/GettingStartedSwiftServer\/2-openapi#Configure-Vapor-to-use-the-API-handler","abstract":[{"type":"text","text":"Learn how to add an OpenAPI document, generate server stubs using the OpenAPI plugin, and integrate the generated code into the app."}],"role":"pseudoSymbol","title":"Configure Vapor to use the API handler"},"doc://com.apple.ASE.getting-started/tutorials/getting-started-swift-server/Review-and-next-steps":{"title":"Review and next steps","kind":"article","role":"article","identifier":"doc:\/\/com.apple.ASE.getting-started\/tutorials\/getting-started-swift-server\/Review-and-next-steps","type":"topic","url":"\/tutorials\/getting-started-swift-server\/review-and-next-steps","abstract":[]},"doc://com.apple.ASE.getting-started/tutorials/GettingStartedSwiftServer/2-openapi#OpenAPI-generator":{"identifier":"doc:\/\/com.apple.ASE.getting-started\/tutorials\/GettingStartedSwiftServer\/2-openapi#OpenAPI-generator","kind":"section","url":"\/tutorials\/gettingstartedswiftserver\/2-openapi#OpenAPI-generator","role":"pseudoSymbol","title":"OpenAPI generator","abstract":[{"text":"Learn how to add an OpenAPI document, generate server stubs using the OpenAPI plugin, and integrate the generated code into the app.","type":"text"}],"type":"section"},"doc://com.apple.ASE.getting-started/tutorials/GettingStartedSwiftServer/4-wrapup#Review":{"identifier":"doc:\/\/com.apple.ASE.getting-started\/tutorials\/GettingStartedSwiftServer\/4-wrapup#Review","title":"Review","url":"\/tutorials\/gettingstartedswiftserver\/4-wrapup#Review","type":"section","abstract":[{"type":"text","text":"Review what you built and where to find resources to build something you can ship to production."}],"role":"pseudoSymbol","kind":"section"},"1-telemetry.0.swift":{"identifier":"1-telemetry.0.swift","fileType":"swift","type":"file","highlights":[],"syntax":"swift","fileName":"Telemetry.swift","content":["import Foundation","import Logging","import Vapor","","func configureTelemetryServices(env: inout Environment) async throws {","    try LoggingSystem.bootstrap(from: &env)","}","","extension Logger {","    @TaskLocal","    static var _current: Logger?","","    static var current: Logger {","        get throws {","            guard let _current else {","                struct NoCurrentLoggerError: Error {}","                throw NoCurrentLoggerError()","            }","            return _current","        }","    }","}","","struct RequestLoggerInjectionMiddleware: Vapor.AsyncMiddleware {","    func respond(to request: Request, chainingTo next: any AsyncResponder) async throws -> Response {","        try await Logger.$_current.withValue(request.logger) {","            try await next.respond(to: request)","        }","    }","}"]},"doc://com.apple.ASE.getting-started/tutorials/getting-started-swift-server/Build-a-basic-Vapor-app":{"identifier":"doc:\/\/com.apple.ASE.getting-started\/tutorials\/getting-started-swift-server\/Build-a-basic-Vapor-app","url":"\/tutorials\/getting-started-swift-server\/build-a-basic-vapor-app","abstract":[],"title":"Build a basic Vapor app","type":"topic","kind":"article","role":"article"},"1-curl.0.txt":{"content":["% curl -i -X GET http:\/\/localhost:8080\/todos",""],"identifier":"1-curl.0.txt","syntax":"","highlights":[{"line":1}],"fileType":"","type":"file","fileName":"Terminal"},"doc://com.apple.ASE.getting-started/tutorials/GettingStartedSwiftServer/3-database#Add-the-database-layer-to-the-routes":{"type":"section","role":"pseudoSymbol","abstract":[{"text":"Use the Fluent ORM to connect a PostgreSQL database to the tutorial app.","type":"text"}],"title":"Add the database layer to the routes","url":"\/tutorials\/gettingstartedswiftserver\/3-database#Add-the-database-layer-to-the-routes","identifier":"doc:\/\/com.apple.ASE.getting-started\/tutorials\/GettingStartedSwiftServer\/3-database#Add-the-database-layer-to-the-routes","kind":"section"},"doc://com.apple.ASE.getting-started/tutorials/GettingStartedSwiftServer/0-setup":{"kind":"project","role":"project","estimatedTime":"5min","url":"\/tutorials\/gettingstartedswiftserver\/0-setup","type":"topic","title":"Set up your development environment","identifier":"doc:\/\/com.apple.ASE.getting-started\/tutorials\/GettingStartedSwiftServer\/0-setup","abstract":[{"type":"text","text":"Ensure you have the right tools and example code before learning how to write your Swift server application."}]},"1-database.0.swift":{"identifier":"1-database.0.swift","fileType":"swift","type":"file","highlights":[],"syntax":"swift","fileName":"Database.swift","content":["import Foundation","import Vapor","","struct Todo: Identifiable, Content {","    var id = UUID()","    let contents: String","}"]},"1-entrypoint.0.swift":{"identifier":"1-entrypoint.0.swift","fileType":"swift","type":"file","highlights":[],"syntax":"swift","content":["import ServiceLifecycle","import Vapor","","@main","struct Entrypoint {","    static func main() async throws {","        var env = try Environment.detect()","","        \/\/ Configure telemetry","        try await configureTelemetryServices(env: &env)","","        \/\/ Create the server","        let app = try await Vapor.Application.make()","        app.http.server.configuration.address = .hostname(","            getOptionalEnvVar(\"SERVER_ADDRESS\") ?? \"0.0.0.0\",","            port: try getOptionalEnvVar(\"SERVER_PORT\") ?? 8080","        )","","        \/\/ Configure the server","        let serverService = try await configureServer(app)","","        \/\/ Start the service group, which spins up all the service above","        let services: [Service] = [serverService]","        let serviceGroup = ServiceGroup(","            services: services,","            gracefulShutdownSignals: [.sigint],","            cancellationSignals: [.sigterm],","            logger: app.logger","        )","        try await serviceGroup.run()","    }","}"],"fileName":"Entrypoint.swift"},"doc://com.apple.ASE.getting-started/tutorials/GettingStartedSwiftServer/3-database#Configure-the-database-tables-and-connection":{"title":"Configure the database tables and connection","identifier":"doc:\/\/com.apple.ASE.getting-started\/tutorials\/GettingStartedSwiftServer\/3-database#Configure-the-database-tables-and-connection","url":"\/tutorials\/gettingstartedswiftserver\/3-database#Configure-the-database-tables-and-connection","type":"section","abstract":[{"type":"text","text":"Use the Fluent ORM to connect a PostgreSQL database to the tutorial app."}],"kind":"section","role":"pseudoSymbol"},"doc://com.apple.ASE.getting-started/tutorials/GettingStartedSwiftServer/1-introduction":{"estimatedTime":"5min","title":"Introduction","role":"project","kind":"project","identifier":"doc:\/\/com.apple.ASE.getting-started\/tutorials\/GettingStartedSwiftServer\/1-introduction","type":"topic","abstract":[{"type":"text","text":"The tutorial example contains a Package.swift file that defines the dependencies and targets for the app, as well as a Sources directory with starter files. The finished tutorial is also provided in the Completed folder."}],"url":"\/tutorials\/gettingstartedswiftserver\/1-introduction"},"(https://swiftpackageindex.com/swift-server/swift-service-lifecycle/documentation/servicelifecycle)":{"title":"Swift Service Lifecycle","titleInlineContent":[{"text":"Swift Service Lifecycle","type":"text"}],"url":"(https:\/\/swiftpackageindex.com\/swift-server\/swift-service-lifecycle\/documentation\/servicelifecycle)","type":"link","identifier":"(https:\/\/swiftpackageindex.com\/swift-server\/swift-service-lifecycle\/documentation\/servicelifecycle)"},"doc://com.apple.ASE.getting-started/tutorials/GettingStartedSwiftServer/3-database#Run-and-test-the-code":{"url":"\/tutorials\/gettingstartedswiftserver\/3-database#Run-and-test-the-code","kind":"section","abstract":[{"text":"Use the Fluent ORM to connect a PostgreSQL database to the tutorial app.","type":"text"}],"identifier":"doc:\/\/com.apple.ASE.getting-started\/tutorials\/GettingStartedSwiftServer\/3-database#Run-and-test-the-code","type":"section","title":"Run and test the code","role":"pseudoSymbol"},"doc://com.apple.ASE.getting-started/tutorials/GettingStartedSwiftServer/4-wrapup#Where-do-I-go-from-here":{"url":"\/tutorials\/gettingstartedswiftserver\/4-wrapup#Where-do-I-go-from-here","role":"pseudoSymbol","identifier":"doc:\/\/com.apple.ASE.getting-started\/tutorials\/GettingStartedSwiftServer\/4-wrapup#Where-do-I-go-from-here","abstract":[{"type":"text","text":"Review what you built and where to find resources to build something you can ship to production."}],"type":"section","title":"Where do I go from here?","kind":"section"}}}