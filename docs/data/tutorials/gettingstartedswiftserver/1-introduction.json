{"variants":[{"paths":["\/tutorials\/gettingstartedswiftserver\/1-introduction"],"traits":[{"interfaceLanguage":"swift"}]}],"schemaVersion":{"patch":0,"minor":3,"major":0},"hierarchy":{"reference":"doc:\/\/com.apple.ASE.getting-started\/tutorials\/getting-started-swift-server","modules":[{"projects":[{"reference":"doc:\/\/com.apple.ASE.getting-started\/tutorials\/GettingStartedSwiftServer\/0-setup","sections":[{"reference":"doc:\/\/com.apple.ASE.getting-started\/tutorials\/GettingStartedSwiftServer\/0-setup#Verify-installed-tools","kind":"task"},{"reference":"doc:\/\/com.apple.ASE.getting-started\/tutorials\/GettingStartedSwiftServer\/0-setup#Clone-and-build-the-tutorial-repository","kind":"task"}]}],"reference":"doc:\/\/com.apple.ASE.getting-started\/tutorials\/getting-started-swift-server\/Before-you-begin"},{"projects":[{"reference":"doc:\/\/com.apple.ASE.getting-started\/tutorials\/GettingStartedSwiftServer\/1-introduction","sections":[{"reference":"doc:\/\/com.apple.ASE.getting-started\/tutorials\/GettingStartedSwiftServer\/1-introduction#Explore-the-parts-of-a-basic-app","kind":"task"}]},{"reference":"doc:\/\/com.apple.ASE.getting-started\/tutorials\/GettingStartedSwiftServer\/2-openapi","sections":[{"reference":"doc:\/\/com.apple.ASE.getting-started\/tutorials\/GettingStartedSwiftServer\/2-openapi#Add-an-OpenAPI-document","kind":"task"},{"reference":"doc:\/\/com.apple.ASE.getting-started\/tutorials\/GettingStartedSwiftServer\/2-openapi#OpenAPI-generator","kind":"task"},{"reference":"doc:\/\/com.apple.ASE.getting-started\/tutorials\/GettingStartedSwiftServer\/2-openapi#Configure-Vapor-to-use-the-API-handler","kind":"task"}]},{"reference":"doc:\/\/com.apple.ASE.getting-started\/tutorials\/GettingStartedSwiftServer\/3-database","sections":[{"reference":"doc:\/\/com.apple.ASE.getting-started\/tutorials\/GettingStartedSwiftServer\/3-database#Set-up-the-infrastructure","kind":"task"},{"reference":"doc:\/\/com.apple.ASE.getting-started\/tutorials\/GettingStartedSwiftServer\/3-database#Configure-the-database-tables-and-connection","kind":"task"},{"reference":"doc:\/\/com.apple.ASE.getting-started\/tutorials\/GettingStartedSwiftServer\/3-database#Add-the-database-layer-to-the-routes","kind":"task"},{"reference":"doc:\/\/com.apple.ASE.getting-started\/tutorials\/GettingStartedSwiftServer\/3-database#Run-and-test-the-code","kind":"task"}]}],"reference":"doc:\/\/com.apple.ASE.getting-started\/tutorials\/getting-started-swift-server\/Build-a-basic-Vapor-app"},{"projects":[{"sections":[{"reference":"doc:\/\/com.apple.ASE.getting-started\/tutorials\/GettingStartedSwiftServer\/4-wrapup#Summary","kind":"heading"},{"reference":"doc:\/\/com.apple.ASE.getting-started\/tutorials\/GettingStartedSwiftServer\/4-wrapup#Review","kind":"heading"},{"reference":"doc:\/\/com.apple.ASE.getting-started\/tutorials\/GettingStartedSwiftServer\/4-wrapup#Where-do-I-go-from-here","kind":"heading"}],"reference":"doc:\/\/com.apple.ASE.getting-started\/tutorials\/GettingStartedSwiftServer\/4-wrapup"}],"reference":"doc:\/\/com.apple.ASE.getting-started\/tutorials\/getting-started-swift-server\/Review-and-next-steps"}],"paths":[["doc:\/\/com.apple.ASE.getting-started\/tutorials\/getting-started-swift-server","doc:\/\/com.apple.ASE.getting-started\/tutorials\/getting-started-swift-server\/$volume","doc:\/\/com.apple.ASE.getting-started\/tutorials\/getting-started-swift-server\/Build-a-basic-Vapor-app"]]},"identifier":{"interfaceLanguage":"swift","url":"doc:\/\/com.apple.ASE.getting-started\/tutorials\/GettingStartedSwiftServer\/1-introduction"},"metadata":{"role":"project","categoryPathComponent":"getting-started-swift-server","category":"Get Started with Swift Server","title":"Introduction"},"kind":"project","sections":[{"title":"Introduction","content":[{"type":"paragraph","inlineContent":[{"text":"The tutorial example contains a Package.swift file that defines the dependencies and targets for the app, as well as a Sources directory with starter files. The finished tutorial is also provided in the Completed folder.","type":"text"}]},{"type":"paragraph","inlineContent":[{"type":"text","text":"The starter code contains all the files youâ€™ll need to get started."},{"type":"text","text":" "},{"type":"text","text":"Follow the steps below for a quick introduction."}]}],"chapter":"Build a basic Vapor app","estimatedTimeInMinutes":5,"kind":"hero"},{"tasks":[{"anchor":"Explore-the-parts-of-a-basic-app","stepsSection":[{"content":[{"type":"paragraph","inlineContent":[{"inlineContent":[{"text":"Review","type":"text"}],"type":"strong"},{"text":" ","type":"text"},{"code":"Package.swift","type":"codeVoice"},{"text":", which contains the dependencies used in this tutorial.","type":"text"}]}],"media":null,"caption":[{"type":"paragraph","inlineContent":[{"text":"The starter depends on the web framework Vapor, a package to manage the lifecycle of a service, ","type":"text"},{"identifier":"(https:\/\/swiftpackageindex.com\/swift-server\/swift-service-lifecycle\/documentation\/servicelifecycle)","isActive":true,"type":"reference"},{"text":", and a package to add basic logs, ","type":"text"},{"identifier":"https:\/\/swiftpackageindex.com\/apple\/swift-log\/documentation\/logging","isActive":true,"type":"reference"},{"text":".","type":"text"}]}],"type":"step","code":"1-package.0.swift","runtimePreview":null},{"content":[{"type":"paragraph","inlineContent":[{"inlineContent":[{"text":"Review","type":"text"}],"type":"strong"},{"text":" ","type":"text"},{"type":"codeVoice","code":"Entrypoint.swift"}]}],"media":null,"caption":[{"type":"paragraph","inlineContent":[{"code":"Entrypoint.swift","type":"codeVoice"},{"text":" reads environment variables, configures the logging service, and sets up the Vapor application.","type":"text"},{"text":" ","type":"text"},{"text":"With the Vapor app created, you create a service to help manage the lifecycle of the app.","type":"text"}]}],"type":"step","code":"1-entrypoint.0.swift","runtimePreview":null},{"content":[{"inlineContent":[{"inlineContent":[{"type":"text","text":"Review"}],"type":"strong"},{"text":" ","type":"text"},{"code":"ServerService.swift","type":"codeVoice"}],"type":"paragraph"}],"media":null,"caption":[{"inlineContent":[{"code":"ServerService.swift","type":"codeVoice"},{"type":"text","text":" configures the server."},{"type":"text","text":" "},{"type":"text","text":"The configuration includes logging and two initial routes."},{"type":"text","text":" "},{"type":"text","text":"The struct "},{"code":"ServerService","type":"codeVoice"},{"type":"text","text":" conforms to the protocol "},{"code":"Service","type":"codeVoice"},{"type":"text","text":" from Swift Service Lifecycle, which provides the async context in which to run the app."}],"type":"paragraph"}],"type":"step","code":"1-serverservice.0.swift","runtimePreview":null},{"content":[{"type":"paragraph","inlineContent":[{"type":"strong","inlineContent":[{"type":"text","text":"Review"}]},{"type":"text","text":" "},{"type":"codeVoice","code":"Telemetry.swift"},{"type":"text","text":"."}]}],"media":null,"caption":[{"type":"paragraph","inlineContent":[{"code":"Telemetry.swift","type":"codeVoice"},{"type":"text","text":" provides a method to bootstrap logging from the environment and the logging middleware that is added to Vapor in the "},{"code":"configureServer","type":"codeVoice"},{"type":"text","text":" method in "},{"code":"ServerService.swift","type":"codeVoice"},{"type":"text","text":"."}]}],"type":"step","code":"1-telemetry.0.swift","runtimePreview":null},{"content":[{"inlineContent":[{"type":"strong","inlineContent":[{"type":"text","text":"Review"}]},{"type":"text","text":" "},{"type":"codeVoice","code":"Database.swift"},{"type":"text","text":"."}],"type":"paragraph"}],"media":null,"caption":[{"inlineContent":[{"code":"Database.swift","type":"codeVoice"},{"text":" provides a struct with the model for the TODO that the app returns from the initial route in ","type":"text"},{"code":"ServerService.swift","type":"codeVoice"},{"text":".","type":"text"}],"type":"paragraph"}],"type":"step","code":"1-database.0.swift","runtimePreview":null},{"content":[{"inlineContent":[{"inlineContent":[{"text":"Run","type":"text"}],"type":"strong"},{"text":" ","type":"text"},{"code":"swift run SwiftServerTodos","type":"codeVoice"}],"type":"paragraph"}],"media":null,"caption":[{"inlineContent":[{"type":"text","text":"Open a terminal to build and run the starter using the "},{"type":"codeVoice","code":"swift run"},{"type":"text","text":" command."}],"type":"paragraph"}],"type":"step","code":"1-bash.0.txt","runtimePreview":null},{"content":[{"inlineContent":[{"inlineContent":[{"type":"text","text":"Review"}],"type":"strong"},{"text":" the output from the run command in your terminal.","type":"text"}],"type":"paragraph"}],"media":null,"caption":[{"inlineContent":[{"type":"text","text":"After the app starts, it runs at http:\/\/localhost:8080."}],"type":"paragraph"}],"type":"step","code":"1-bash.1.txt","runtimePreview":null},{"content":[{"inlineContent":[{"inlineContent":[{"type":"text","text":"Run"}],"type":"strong"},{"text":" ","type":"text"},{"type":"codeVoice","code":"% curl -i -X GET http:\/\/localhost:8080\/todos"}],"type":"paragraph"}],"media":null,"caption":[{"inlineContent":[{"type":"text","text":"Open a second terminal and run a "},{"type":"codeVoice","code":"curl"},{"type":"text","text":" command to exercise the app."}],"type":"paragraph"}],"type":"step","code":"1-curl.0.txt","runtimePreview":null},{"content":[{"inlineContent":[{"type":"strong","inlineContent":[{"text":"Review","type":"text"}]},{"type":"text","text":" the output from the app in the second terminal."}],"type":"paragraph"}],"media":null,"caption":[{"inlineContent":[{"type":"text","text":"This is the result of the initial "},{"code":"\/todos","type":"codeVoice"},{"type":"text","text":" route in the app."}],"type":"paragraph"}],"type":"step","code":"1-curl.1.txt","runtimePreview":null},{"content":[{"inlineContent":[{"type":"strong","inlineContent":[{"text":"Review","type":"text"}]},{"text":" the output in the first terminal.","type":"text"}],"type":"paragraph"}],"media":null,"caption":[{"inlineContent":[{"type":"text","text":"As you invoke the curl command, you will also see the request logged to the console where you started the app."}],"type":"paragraph"}],"type":"step","code":"1-bash.2.txt","runtimePreview":null}],"title":"Explore the parts of a basic app","contentSection":[{"content":[{"inlineContent":[{"text":"Carefully review the files the tutorial Starter files, noting the purpose of each. Then build and run the starter code to prove itâ€™s operational.  ","type":"text"},{"type":"strong","inlineContent":[{"type":"text","text":"Note:"}]},{"text":" Steps one through five will switch between each of the five files. Step six switches to a terminal.","type":"text"}],"type":"paragraph"}],"kind":"contentAndMedia","mediaPosition":"trailing"}]}],"kind":"tasks"},{"title":"Specify routes using OpenAPI","action":{"type":"reference","identifier":"doc:\/\/com.apple.ASE.getting-started\/tutorials\/GettingStartedSwiftServer\/2-openapi","isActive":true,"overridingTitleInlineContent":[{"type":"text","text":"Get started"}],"overridingTitle":"Get started"},"featuredEyebrow":"Tutorial","abstract":[{"type":"text","text":"Learn how to add an OpenAPI document, generate server stubs using the OpenAPI plugin, and integrate the generated code into the app."}],"kind":"callToAction"}],"references":{"doc://com.apple.ASE.getting-started/tutorials/getting-started-swift-server/Before-you-begin":{"abstract":[],"role":"article","type":"topic","identifier":"doc:\/\/com.apple.ASE.getting-started\/tutorials\/getting-started-swift-server\/Before-you-begin","url":"\/tutorials\/getting-started-swift-server\/before-you-begin","kind":"article","title":"Before you begin"},"doc://com.apple.ASE.getting-started/tutorials/GettingStartedSwiftServer/4-wrapup#Summary":{"kind":"section","abstract":[{"text":"Review what you built and where to find resources to build something you can ship to production.","type":"text"}],"title":"Summary","type":"section","role":"pseudoSymbol","identifier":"doc:\/\/com.apple.ASE.getting-started\/tutorials\/GettingStartedSwiftServer\/4-wrapup#Summary","url":"\/tutorials\/gettingstartedswiftserver\/4-wrapup#Summary"},"1-bash.1.txt":{"type":"file","fileName":"Terminal","highlights":[{"line":2},{"line":3},{"line":4},{"line":5},{"line":6},{"line":7}],"identifier":"1-bash.1.txt","content":["% swift run SwiftServerTodos","","[1\/1] Planning build","Building for debugging...","[1\/1] Write swift-version--7D0960044F38567D.txt","Build of product 'SwiftServerTodos' complete! (2.32s)","[ NOTICE ] Server started on http:\/\/0.0.0.0:8080"],"syntax":"","fileType":""},"https://swiftpackageindex.com/apple/swift-log/documentation/logging":{"type":"link","title":"Swift Log","url":"https:\/\/swiftpackageindex.com\/apple\/swift-log\/documentation\/logging","identifier":"https:\/\/swiftpackageindex.com\/apple\/swift-log\/documentation\/logging","titleInlineContent":[{"type":"text","text":"Swift Log"}]},"1-entrypoint.0.swift":{"fileName":"Entrypoint.swift","fileType":"swift","identifier":"1-entrypoint.0.swift","type":"file","highlights":[],"syntax":"swift","content":["import ServiceLifecycle","import Vapor","","@main","struct Entrypoint {","    static func main() async throws {","        var env = try Environment.detect()","","        \/\/ Configure telemetry","        try await configureTelemetryServices(env: &env)","","        \/\/ Create the server","        let app = try await Vapor.Application.make()","        app.http.server.configuration.address = .hostname(","            getOptionalEnvVar(\"SERVER_ADDRESS\") ?? \"0.0.0.0\",","            port: try getOptionalEnvVar(\"SERVER_PORT\") ?? 8080","        )","","        \/\/ Configure the server","        let serverService = try await configureServer(app)","","        \/\/ Start the service group, which spins up all the service above","        let services: [Service] = [serverService]","        let serviceGroup = ServiceGroup(","            services: services,","            gracefulShutdownSignals: [.sigint],","            cancellationSignals: [.sigterm],","            logger: app.logger","        )","        try await serviceGroup.run()","    }","}"]},"doc://com.apple.ASE.getting-started/tutorials/getting-started-swift-server/Build-a-basic-Vapor-app":{"url":"\/tutorials\/getting-started-swift-server\/build-a-basic-vapor-app","type":"topic","title":"Build a basic Vapor app","kind":"article","identifier":"doc:\/\/com.apple.ASE.getting-started\/tutorials\/getting-started-swift-server\/Build-a-basic-Vapor-app","role":"article","abstract":[]},"doc://com.apple.ASE.getting-started/tutorials/GettingStartedSwiftServer/4-wrapup#Where-do-I-go-from-here":{"title":"Where do I go from here?","abstract":[{"type":"text","text":"Review what you built and where to find resources to build something you can ship to production."}],"type":"section","url":"\/tutorials\/gettingstartedswiftserver\/4-wrapup#Where-do-I-go-from-here","kind":"section","role":"pseudoSymbol","identifier":"doc:\/\/com.apple.ASE.getting-started\/tutorials\/GettingStartedSwiftServer\/4-wrapup#Where-do-I-go-from-here"},"doc://com.apple.ASE.getting-started/tutorials/getting-started-swift-server":{"role":"overview","title":"Explore Swift on the server by building a Vapor app","type":"topic","kind":"overview","abstract":[{"type":"text","text":"Learn about cloud services in Swift by building and extending a Vapor app."}],"identifier":"doc:\/\/com.apple.ASE.getting-started\/tutorials\/getting-started-swift-server","url":"\/tutorials\/getting-started-swift-server"},"doc://com.apple.ASE.getting-started/tutorials/GettingStartedSwiftServer/3-database":{"kind":"project","abstract":[{"type":"text","text":"Use the Fluent ORM to connect a PostgreSQL database to the tutorial app."}],"role":"project","estimatedTime":"10min","type":"topic","identifier":"doc:\/\/com.apple.ASE.getting-started\/tutorials\/GettingStartedSwiftServer\/3-database","url":"\/tutorials\/gettingstartedswiftserver\/3-database","title":"Integrate a database"},"doc://com.apple.ASE.getting-started/tutorials/GettingStartedSwiftServer/2-openapi#Configure-Vapor-to-use-the-API-handler":{"type":"section","kind":"section","title":"Configure Vapor to use the API handler","abstract":[{"type":"text","text":"Learn how to add an OpenAPI document, generate server stubs using the OpenAPI plugin, and integrate the generated code into the app."}],"identifier":"doc:\/\/com.apple.ASE.getting-started\/tutorials\/GettingStartedSwiftServer\/2-openapi#Configure-Vapor-to-use-the-API-handler","role":"pseudoSymbol","url":"\/tutorials\/gettingstartedswiftserver\/2-openapi#Configure-Vapor-to-use-the-API-handler"},"doc://com.apple.ASE.getting-started/tutorials/GettingStartedSwiftServer/0-setup#Verify-installed-tools":{"abstract":[{"type":"text","text":"Ensure you have the right tools and example code before learning how to write your Swift server application."}],"url":"\/tutorials\/gettingstartedswiftserver\/0-setup#Verify-installed-tools","type":"section","title":"Verify installed tools","kind":"section","identifier":"doc:\/\/com.apple.ASE.getting-started\/tutorials\/GettingStartedSwiftServer\/0-setup#Verify-installed-tools","role":"pseudoSymbol"},"doc://com.apple.ASE.getting-started/tutorials/GettingStartedSwiftServer/4-wrapup":{"estimatedTime":"5min","url":"\/tutorials\/gettingstartedswiftserver\/4-wrapup","type":"topic","role":"article","title":"Review and where to go next","abstract":[{"type":"text","text":"Review what you built and where to find resources to build something you can ship to production."}],"kind":"article","identifier":"doc:\/\/com.apple.ASE.getting-started\/tutorials\/GettingStartedSwiftServer\/4-wrapup"},"doc://com.apple.ASE.getting-started/tutorials/GettingStartedSwiftServer/2-openapi#Add-an-OpenAPI-document":{"kind":"section","identifier":"doc:\/\/com.apple.ASE.getting-started\/tutorials\/GettingStartedSwiftServer\/2-openapi#Add-an-OpenAPI-document","url":"\/tutorials\/gettingstartedswiftserver\/2-openapi#Add-an-OpenAPI-document","type":"section","abstract":[{"type":"text","text":"Learn how to add an OpenAPI document, generate server stubs using the OpenAPI plugin, and integrate the generated code into the app."}],"title":"Add an OpenAPI document","role":"pseudoSymbol"},"doc://com.apple.ASE.getting-started/tutorials/GettingStartedSwiftServer/0-setup":{"kind":"project","identifier":"doc:\/\/com.apple.ASE.getting-started\/tutorials\/GettingStartedSwiftServer\/0-setup","abstract":[{"type":"text","text":"Ensure you have the right tools and example code before learning how to write your Swift server application."}],"type":"topic","role":"project","estimatedTime":"5min","url":"\/tutorials\/gettingstartedswiftserver\/0-setup","title":"Set up your development environment"},"doc://com.apple.ASE.getting-started/tutorials/GettingStartedSwiftServer/3-database#Run-and-test-the-code":{"identifier":"doc:\/\/com.apple.ASE.getting-started\/tutorials\/GettingStartedSwiftServer\/3-database#Run-and-test-the-code","kind":"section","role":"pseudoSymbol","title":"Run and test the code","url":"\/tutorials\/gettingstartedswiftserver\/3-database#Run-and-test-the-code","abstract":[{"text":"Use the Fluent ORM to connect a PostgreSQL database to the tutorial app.","type":"text"}],"type":"section"},"1-bash.0.txt":{"type":"file","syntax":"","highlights":[],"content":["% swift run SwiftServerTodos"],"fileName":"Terminal","identifier":"1-bash.0.txt","fileType":""},"1-database.0.swift":{"fileName":"Database.swift","fileType":"swift","identifier":"1-database.0.swift","type":"file","highlights":[],"syntax":"swift","content":["import Foundation","import Vapor","","struct Todo: Identifiable, Content {","    var id = UUID()","    let contents: String","}"]},"1-serverservice.0.swift":{"type":"file","syntax":"swift","highlights":[],"content":["import ServiceLifecycle","import Vapor","","func configureServer(_ app: Application) async throws -> ServerService {","    app.middleware.use(RequestLoggerInjectionMiddleware())","","    \/\/ A health endpoint.","    app.get(\"health\") { _ in","        \"ok\\n\"","    }","","    \/\/ A route to list TODOs.","    app.get(\"todos\") { req in","        [","            Todo(contents: \"example todo\")","        ]","    }","","    return ServerService(app: app)","}","","struct ServerService: Service {","    var app: Application","    func run() async throws {","        try await app.execute()","    }","}"],"fileName":"ServerService.swift","identifier":"1-serverservice.0.swift","fileType":"swift"},"(https://swiftpackageindex.com/swift-server/swift-service-lifecycle/documentation/servicelifecycle)":{"type":"link","title":"Swift Service Lifecycle","url":"(https:\/\/swiftpackageindex.com\/swift-server\/swift-service-lifecycle\/documentation\/servicelifecycle)","identifier":"(https:\/\/swiftpackageindex.com\/swift-server\/swift-service-lifecycle\/documentation\/servicelifecycle)","titleInlineContent":[{"type":"text","text":"Swift Service Lifecycle"}]},"doc://com.apple.ASE.getting-started/tutorials/GettingStartedSwiftServer/3-database#Set-up-the-infrastructure":{"identifier":"doc:\/\/com.apple.ASE.getting-started\/tutorials\/GettingStartedSwiftServer\/3-database#Set-up-the-infrastructure","title":"Set up the infrastructure","url":"\/tutorials\/gettingstartedswiftserver\/3-database#Set-up-the-infrastructure","kind":"section","role":"pseudoSymbol","abstract":[{"type":"text","text":"Use the Fluent ORM to connect a PostgreSQL database to the tutorial app."}],"type":"section"},"doc://com.apple.ASE.getting-started/tutorials/GettingStartedSwiftServer/1-introduction":{"type":"topic","url":"\/tutorials\/gettingstartedswiftserver\/1-introduction","kind":"project","title":"Introduction","identifier":"doc:\/\/com.apple.ASE.getting-started\/tutorials\/GettingStartedSwiftServer\/1-introduction","abstract":[{"text":"The tutorial example contains a Package.swift file that defines the dependencies and targets for the app, as well as a Sources directory with starter files. The finished tutorial is also provided in the Completed folder.","type":"text"}],"estimatedTime":"5min","role":"project"},"1-curl.0.txt":{"highlights":[{"line":1}],"identifier":"1-curl.0.txt","fileType":"","fileName":"Terminal","syntax":"","content":["% curl -i -X GET http:\/\/localhost:8080\/todos",""],"type":"file"},"doc://com.apple.ASE.getting-started/tutorials/getting-started-swift-server/Review-and-next-steps":{"kind":"article","identifier":"doc:\/\/com.apple.ASE.getting-started\/tutorials\/getting-started-swift-server\/Review-and-next-steps","role":"article","type":"topic","title":"Review and next steps","url":"\/tutorials\/getting-started-swift-server\/review-and-next-steps","abstract":[]},"1-telemetry.0.swift":{"fileName":"Telemetry.swift","fileType":"swift","identifier":"1-telemetry.0.swift","type":"file","highlights":[],"syntax":"swift","content":["import Foundation","import Logging","import Vapor","","func configureTelemetryServices(env: inout Environment) async throws {","    try LoggingSystem.bootstrap(from: &env)","}","","extension Logger {","    @TaskLocal","    static var _current: Logger?","","    static var current: Logger {","        get throws {","            guard let _current else {","                struct NoCurrentLoggerError: Error {}","                throw NoCurrentLoggerError()","            }","            return _current","        }","    }","}","","struct RequestLoggerInjectionMiddleware: Vapor.AsyncMiddleware {","    func respond(to request: Request, chainingTo next: any AsyncResponder) async throws -> Response {","        try await Logger.$_current.withValue(request.logger) {","            try await next.respond(to: request)","        }","    }","}"]},"1-bash.2.txt":{"fileType":"","highlights":[{"line":8}],"syntax":"","identifier":"1-bash.2.txt","content":["% swift run SwiftServerTodos","","[1\/1] Planning build","Building for debugging...","[1\/1] Write swift-version--7D0960044F38567D.txt","Build of product 'SwiftServerTodos' complete! (2.32s)","[ NOTICE ] Server started on http:\/\/0.0.0.0:8080","[ INFO ] GET \/todos [request-id: 69F320D7-163A-40C6-B671-C80ABDE767FB]"],"fileName":"Terminal","type":"file"},"1-package.0.swift":{"fileName":"Package.swift","fileType":"swift","identifier":"1-package.0.swift","type":"file","highlights":[],"syntax":"swift","content":["\/\/ swift-tools-version: 6.1","","import PackageDescription","","let package = Package(","    name: \"swift-server-todos\",","    platforms: [","        .macOS(.v15)","    ],","    dependencies: [","        \/\/ Server scaffolding","        .package(url: \"https:\/\/github.com\/vapor\/vapor\", from: \"4.0.0\"),","        .package(url: \"https:\/\/github.com\/swift-server\/swift-service-lifecycle\", from: \"2.1.0\"),","        .package(url: \"https:\/\/github.com\/apple\/swift-openapi-generator\", from: \"1.0.0\"),","        .package(url: \"https:\/\/github.com\/apple\/swift-openapi-runtime\", from: \"1.0.0\"),","        .package(url: \"https:\/\/github.com\/swift-server\/swift-openapi-vapor\", from: \"1.0.0\"),","","        \/\/ Telemetry","        .package(url: \"https:\/\/github.com\/apple\/swift-log\", from: \"1.5.2\"),","","        \/\/ Database","        .package(url: \"https:\/\/github.com\/vapor\/fluent.git\", from: \"4.0.0\"),","        .package(url: \"https:\/\/github.com\/vapor\/fluent-postgres-driver.git\", from: \"2.0.0\"),","    ],","    targets: [","        .executableTarget(","            name: \"SwiftServerTodos\",","            dependencies: [","                \/\/ Server scaffolding","                .product(name: \"Vapor\", package: \"vapor\"),","                .product(name: \"ServiceLifecycle\", package: \"swift-service-lifecycle\"),","","                \/\/ Telemetry","                .product(name: \"Logging\", package: \"swift-log\"),","            ]","        )","    ]",")"]},"doc://com.apple.ASE.getting-started/tutorials/GettingStartedSwiftServer/1-introduction#Explore-the-parts-of-a-basic-app":{"kind":"section","url":"\/tutorials\/gettingstartedswiftserver\/1-introduction#Explore-the-parts-of-a-basic-app","type":"section","identifier":"doc:\/\/com.apple.ASE.getting-started\/tutorials\/GettingStartedSwiftServer\/1-introduction#Explore-the-parts-of-a-basic-app","abstract":[{"text":"The tutorial example contains a Package.swift file that defines the dependencies and targets for the app, as well as a Sources directory with starter files. The finished tutorial is also provided in the Completed folder.","type":"text"}],"title":"Explore the parts of a basic app","role":"pseudoSymbol"},"doc://com.apple.ASE.getting-started/tutorials/GettingStartedSwiftServer/3-database#Add-the-database-layer-to-the-routes":{"url":"\/tutorials\/gettingstartedswiftserver\/3-database#Add-the-database-layer-to-the-routes","type":"section","role":"pseudoSymbol","abstract":[{"text":"Use the Fluent ORM to connect a PostgreSQL database to the tutorial app.","type":"text"}],"kind":"section","identifier":"doc:\/\/com.apple.ASE.getting-started\/tutorials\/GettingStartedSwiftServer\/3-database#Add-the-database-layer-to-the-routes","title":"Add the database layer to the routes"},"1-curl.1.txt":{"type":"file","syntax":"","identifier":"1-curl.1.txt","content":["% curl http:\/\/localhost:8080\/todos","HTTP\/1.1 200 OK","content-type: application\/json; charset=utf-8","content-length: 73","connection: keep-alive","date: Fri, 16 May 2025 20:28:44 GMT","","[{\"id\":\"318C8306-DE9E-4ABA-9EA9-6B4F4B4607D8\",\"contents\":\"example todo\"}]%"],"highlights":[{"line":1},{"line":2},{"line":3},{"line":4},{"line":5},{"line":6},{"line":8}],"fileType":"","fileName":"Terminal"},"doc://com.apple.ASE.getting-started/tutorials/GettingStartedSwiftServer/0-setup#Clone-and-build-the-tutorial-repository":{"type":"section","kind":"section","title":"Clone and build the tutorial repository","identifier":"doc:\/\/com.apple.ASE.getting-started\/tutorials\/GettingStartedSwiftServer\/0-setup#Clone-and-build-the-tutorial-repository","url":"\/tutorials\/gettingstartedswiftserver\/0-setup#Clone-and-build-the-tutorial-repository","role":"pseudoSymbol","abstract":[{"text":"Ensure you have the right tools and example code before learning how to write your Swift server application.","type":"text"}]},"doc://com.apple.ASE.getting-started/tutorials/GettingStartedSwiftServer/4-wrapup#Review":{"identifier":"doc:\/\/com.apple.ASE.getting-started\/tutorials\/GettingStartedSwiftServer\/4-wrapup#Review","kind":"section","abstract":[{"type":"text","text":"Review what you built and where to find resources to build something you can ship to production."}],"type":"section","role":"pseudoSymbol","title":"Review","url":"\/tutorials\/gettingstartedswiftserver\/4-wrapup#Review"},"doc://com.apple.ASE.getting-started/tutorials/GettingStartedSwiftServer/2-openapi":{"type":"topic","abstract":[{"text":"Learn how to add an OpenAPI document, generate server stubs using the OpenAPI plugin, and integrate the generated code into the app.","type":"text"}],"role":"project","url":"\/tutorials\/gettingstartedswiftserver\/2-openapi","identifier":"doc:\/\/com.apple.ASE.getting-started\/tutorials\/GettingStartedSwiftServer\/2-openapi","estimatedTime":"10min","title":"Specify routes using OpenAPI","kind":"project"},"doc://com.apple.ASE.getting-started/tutorials/GettingStartedSwiftServer/3-database#Configure-the-database-tables-and-connection":{"type":"section","abstract":[{"type":"text","text":"Use the Fluent ORM to connect a PostgreSQL database to the tutorial app."}],"url":"\/tutorials\/gettingstartedswiftserver\/3-database#Configure-the-database-tables-and-connection","title":"Configure the database tables and connection","identifier":"doc:\/\/com.apple.ASE.getting-started\/tutorials\/GettingStartedSwiftServer\/3-database#Configure-the-database-tables-and-connection","kind":"section","role":"pseudoSymbol"},"doc://com.apple.ASE.getting-started/tutorials/GettingStartedSwiftServer/2-openapi#OpenAPI-generator":{"url":"\/tutorials\/gettingstartedswiftserver\/2-openapi#OpenAPI-generator","title":"OpenAPI generator","abstract":[{"type":"text","text":"Learn how to add an OpenAPI document, generate server stubs using the OpenAPI plugin, and integrate the generated code into the app."}],"kind":"section","identifier":"doc:\/\/com.apple.ASE.getting-started\/tutorials\/GettingStartedSwiftServer\/2-openapi#OpenAPI-generator","type":"section","role":"pseudoSymbol"}}}